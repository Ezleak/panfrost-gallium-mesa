diff a/src/gallium/frontends/nine/nine_state.c b/src/gallium/frontends/nine/nine_state.c	(rejected hunks)
@@ -1042,11 +1079,11 @@ update_textures_and_samplers(struct NineDevice9 *device)
     if (commit_samplers)
         cso_single_sampler_done(context->cso, PIPE_SHADER_FRAGMENT);
 
-    commit_samplers = FALSE;
+    commit_samplers = false;
     sampler_mask = context->programmable_vs ? context->vs->sampler_mask : 0;
     const uint16_t vs_mask = sampler_mask | context->enabled_samplers_mask_vs;
     context->bound_samplers_mask_vs = vs_mask;
-    num_textures = util_last_bit(vs_mask) + 1;
+    num_textures = util_last_bit(vs_mask);
     u_foreach_bit(i, context->enabled_samplers_mask_vs) {
         const unsigned s = NINE_SAMPLER_VS(i);
         int sRGB = context->samp[s][D3DSAMP_SRGBTEXTURE] ? 1 : 0;
